{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yannihome/Documents/School/HackerU/Projects/HackeruProject-react-YanivZinger/hackeru-react-shop/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/yannihome/Documents/School/HackerU/Projects/HackeruProject-react-YanivZinger/hackeru-react-shop/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/yannihome/Documents/School/HackerU/Projects/HackeruProject-react-YanivZinger/hackeru-react-shop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{Typography,Box,Card,CardContent,CardHeader,CardMedia,Divider}from\"@mui/material\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CardDetailsPage=function CardDetailsPage(){var _useParams=useParams(),cardId=_useParams.cardId;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),cardDetails=_useState2[0],setCardDetails=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){var _ref;var fetchCardDetails=function fetchCardDetails(){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_response$data,image,alt,title,subTitle,phone,address,cardNumber;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://monkfish-app-z9uza.ondigitalocean.app/bcard2/cards/\".concat(cardId));case 3:response=_context.sent;console.log(\"Card Details Response:\",response);if(response.data){console.log(\"Card Details Data:\",response.data);_response$data=response.data,image=_response$data.image,alt=_response$data.alt,title=_response$data.title,subTitle=_response$data.subTitle,phone=_response$data.phone,address=_response$data.address,cardNumber=_response$data.cardNumber;console.log(\"Image URL:\",image.url);console.log(\"Alt Text:\",alt);setCardDetails({img:image.url,alt:alt,title:title,subTitle:subTitle,phone:phone,address:address,cardNumber:cardNumber});}else{console.error(\"Invalid response structure. Please check the API.\");setError(\"Invalid response structure. Please check the API.\");}setLoading(false);_context.next=14;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching card details:\",_context.t0);setError(\"Error fetching card details. Please try again.\");setLoading(false);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}))).apply(this,arguments);};fetchCardDetails();},[cardId]);if(loading){return/*#__PURE__*/_jsx(Typography,{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(Typography,{style:{color:\"red\"},children:error});}return/*#__PURE__*/_jsxs(Card,{style:{marginBottom:100},children:[cardDetails.img&&/*#__PURE__*/_jsx(CardMedia,{component:\"img\",image:cardDetails.img,alt:cardDetails.alt||\"No Alt Text\"}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(CardHeader,{title:cardDetails.title,subheader:cardDetails.subTitle,sx:{p:0,mb:1}}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Box,{sx:{mt:1},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsxs(Typography,{fontWeight:\"700\",variant:\"subtitle1\",component:\"span\",children:[\"Phone:\",\" \"]}),cardDetails.phone]}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsxs(Typography,{fontWeight:\"700\",variant:\"subtitle1\",component:\"span\",children:[\"Address:\",\" \"]}),cardDetails.address&&/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{children:cardDetails.address.city}),/*#__PURE__*/_jsx(Typography,{children:cardDetails.address.street})]})]})}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsxs(Typography,{fontWeight:\"700\",variant:\"subtitle1\",component:\"span\",children:[\"Card Number:\",\" \"]}),cardDetails.cardNumber]})]})]})]});};export default CardDetailsPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","Typography","Box","Card","CardContent","CardHeader","CardMedia","Divider","axios","jsx","_jsx","jsxs","_jsxs","CardDetailsPage","_useParams","cardId","_useState","_useState2","_slicedToArray","cardDetails","setCardDetails","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_ref","fetchCardDetails","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","_response$data","image","alt","title","subTitle","phone","address","cardNumber","wrap","_callee$","_context","prev","next","get","concat","sent","console","log","data","url","img","t0","stop","apply","arguments","children","style","color","marginBottom","component","subheader","sx","p","mb","mt","variant","fontWeight","city","street"],"sources":["/Users/yannihome/Documents/School/HackerU/Projects/HackeruProject-react-YanivZinger/hackeru-react-shop/src/pages/CardDetailsPage/CardDetailsPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport {\n  Typography,\n  Box,\n  Card,\n  CardContent,\n  CardHeader,\n  CardMedia,\n  Divider,\n} from \"@mui/material\";\nimport axios from \"axios\";\n\nconst CardDetailsPage = () => {\n  const { cardId } = useParams();\n  const [cardDetails, setCardDetails] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchCardDetails = async () => {\n      try {\n        const response = await axios.get(\n          `https://monkfish-app-z9uza.ondigitalocean.app/bcard2/cards/${cardId}`\n        );\n  \n        console.log(\"Card Details Response:\", response);\n  \n        if (response.data) {\n          console.log(\"Card Details Data:\", response.data);\n  \n          const { image, alt, title, subTitle, phone, address, cardNumber } = response.data;\n  \n          console.log(\"Image URL:\", image.url);  \n          console.log(\"Alt Text:\", alt);\n  \n          setCardDetails({\n            img: image.url,  \n            alt,\n            title,\n            subTitle,\n            phone,\n            address,\n            cardNumber,\n          });\n        } else {\n          console.error(\"Invalid response structure. Please check the API.\");\n          setError(\"Invalid response structure. Please check the API.\");\n        }\n  \n        setLoading(false);\n      } catch (error) {\n        console.error(\"Error fetching card details:\", error);\n        setError(\"Error fetching card details. Please try again.\");\n        setLoading(false);\n      }\n    };\n  \n    fetchCardDetails();\n  }, [cardId]);\n  if (loading) {\n    return <Typography>Loading...</Typography>;\n  }\n\n  if (error) {\n    return <Typography style={{ color: \"red\" }}>{error}</Typography>;\n  }\n\n  return (\n<Card style={{ marginBottom: 100 }}>\n{cardDetails.img && (\n  <CardMedia component=\"img\" image={cardDetails.img} alt={cardDetails.alt || \"No Alt Text\"} />\n)}\n      <CardContent>\n        <CardHeader\n          title={cardDetails.title}\n          subheader={cardDetails.subTitle}\n          sx={{ p: 0, mb: 1 }}\n        />\n        <Divider />\n        <Box sx={{ mt: 1 }}>\n          <Typography variant=\"body2\">\n            <Typography fontWeight=\"700\" variant=\"subtitle1\" component=\"span\">\n              Phone:{\" \"}\n            </Typography>\n            {cardDetails.phone}\n          </Typography>\n          <Box>\n            <Typography variant=\"body2\">\n              <Typography fontWeight=\"700\" variant=\"subtitle1\" component=\"span\">\n                Address:{\" \"}\n              </Typography>\n              {cardDetails.address && (\n                <Box>\n                  <Typography>{cardDetails.address.city}</Typography>\n                  <Typography>{cardDetails.address.street}</Typography>\n                </Box>\n              )}\n            </Typography>\n          </Box>\n          <Typography variant=\"body2\">\n            <Typography fontWeight=\"700\" variant=\"subtitle1\" component=\"span\">\n              Card Number:{\" \"}\n            </Typography>\n            {cardDetails.cardNumber}\n          </Typography>\n        </Box>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default CardDetailsPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}